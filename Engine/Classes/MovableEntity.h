/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#ifndef _Engine_Classes_MovableEntity_INCLUDED
#define _Engine_Classes_MovableEntity_INCLUDED 1
extern "C" DECL_DLL CDLLEntityClass CMovableEntity_DLLClass;
class DECL_DLL  CMovableEntity : public CRationalEntity {
public:
   virtual void SetDefaultProperties(void);
  FLOAT3D en_vDesiredTranslationRelative;
  ANGLE3D en_aDesiredRotationRelative;
  FLOAT3D en_vCurrentTranslationAbsolute;
  ANGLE3D en_aCurrentRotationAbsolute;
  CEntityPointer en_penReference;
  FLOAT3D en_vReferencePlane;
  INDEX en_iReferenceSurface;
  CEntityPointer en_penLastValidReference;
  CEntityPointer en_penLastValidReferenceTmp;
  FLOAT en_tmLastSignificantVerticalMovement;
  FLOAT en_tmLastBreathed;
  FLOAT en_tmMaxHoldBreath;
  FLOAT en_fDensity;
  FLOAT en_tmLastSwimDamage;
  INDEX en_iUpContent;
  INDEX en_iDnContent;
  FLOAT en_fImmersionFactor;
  FLOAT3D en_vGravityDir;
  FLOAT en_fGravityA;
  FLOAT en_fGravityV;
  FLOAT3D en_vForceDir;
  FLOAT en_fForceA;
  FLOAT en_fForceV;
  FLOAT en_tmJumped;
  FLOAT en_tmMaxJumpControl;
  FLOAT en_fJumpControlMultiplier;
  FLOAT en_fAcceleration;
  FLOAT en_fDeceleration;
  FLOAT en_fStepUpHeight;
  FLOAT en_fStepDnHeight;
  FLOAT en_fBounceDampParallel;
  FLOAT en_fBounceDampNormal;
  FLOAT en_fCollisionSpeedLimit;
  FLOAT en_fCollisionDamageFactor;
  FLOATaabbox3D en_boxMovingEstimate;
  FLOATaabbox3D en_boxNearCached;
  FLOAT3D en_vIntendedTranslation;
  FLOATmatrix3D en_mIntendedRotation;
  FLOAT en_tmEntityTime;
  BOOL m_bReferenceMovingInY;
  BOOL m_bReferenceRotatingNonY;
  INDEX m_iPlayerRefCounter;
  FLOAT3D en_vDesiredTranslationFinal;
  INDEX m_tmMoveStart;
  FLOAT m_tickMoveStart;
  BOOL m_bForceStop;
  BOOL m_bBlockDown;
  BOOL m_bBlockUp;
  BOOL m_bStair;
  BOOL m_bFallDownToFloor;
CPlacement3D en_plLastPlacementTmp;
CPlacement3D en_plLastPlacement;
CListNode en_lnInMovers;
CBrushPolygon * en_pbpoStandOn;
CStaticStackArray < CBrushPolygon * > en_apbpoNearPolygons;
FLOAT3D en_vNextPosition;
FLOATmatrix3D en_mNextRotation;
FLOAT3D en_vMoveTranslation;
FLOATmatrix3D en_mMoveRotation;
FLOAT3D en_vAppliedTranslation;
FLOATmatrix3D en_mAppliedRotation;
   
#line 299 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
TIME GetLerpedEntityTime();
  
#line 304 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual BOOL IsActionApplied();
  
#line 307 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual void SetActionApplied();
  
#line 308 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual void ClearActionApplied();
  
#line 311 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual BOOL IsReapplyingActions();
  
#line 314 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual void SetReapplyingActions();
  
#line 315 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual void ClearReapplyingActions();
  
#line 317 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
virtual void StopPlayer();
   
#line 319 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void ApplyDeadReckoning();
   
#line 387 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void AdjustDeadReckoning(CPlacement3D plPlacement,CPlacement3D plSpeed,TIME tmNewTime);
   
#line 400 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void AdjustDeadReckoningNew(CPlacement3D plPlacement,CPlacement3D plSpeed,TIME tmNewTime,FLOAT3D plPlacementFinal);
    CMovableEntity(void);
     ~ CMovableEntity(void);
   void OnInitialize(const CEntityEvent & eeInput);
   void OnEnd(void);
   void Copy(CEntity & enOther,ULONG ulFlags);
   
#line 470 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void ClearTemporaryData(void);
   void Read_t(CTStream * istr,BOOL bNetwork);
   void Write_t(CTStream * ostr,BOOL bNetwork);
   CPlacement3D GetLerpedPlacement(void)const;
   void AddToMovers(void);
   void AddToMoversDuringMoving(void);
   void SetDesiredRotation(const ANGLE3D & aRotation);
   const ANGLE3D & GetDesiredRotation(void)const;
   void SetDesiredTranslation(const FLOAT3D & vTranslation);
   const FLOAT3D & GetDesiredTranslation(void)const;
   void GiveImpulseTranslationRelative(const FLOAT3D & vImpulseSpeedRelative);
   void GiveImpulseTranslationAbsolute(const FLOAT3D & vImpulseSpeed);
   void LaunchAsPropelledProjectile(const FLOAT3D & vImpulseSpeedRelative,
#line 661 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
CMovableEntity * penLauncher);
   void LaunchAsFreeProjectile(const FLOAT3D & vImpulseSpeedRelative,
#line 669 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
CMovableEntity * penLauncher);
   void ForceStopTranslation(void);
   void ForceStopRotation(void);
   void ForceFullStop(void);
   void FakeJump(const FLOAT3D & vOrgSpeed,const FLOAT3D & vDirection,FLOAT fStrength,
#line 705 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
FLOAT fParallelMultiplier,FLOAT fNormalMultiplier,FLOAT fMaxExitSpeed,TIME tmControl);
   ANGLE GetRelativeHeading(const FLOAT3D & vDirection);
   ANGLE GetRelativePitch(const FLOAT3D & vDirection);
   void GetReferenceHeadingDirection(const FLOAT3D & vReference,ANGLE aH,FLOAT3D & vDirection);
   void GetHeadingDirection(ANGLE aH,FLOAT3D & vDirection);
   void GetPitchDirection(ANGLE aH,FLOAT3D & vDirection);
   
#line 806 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
CEntity * MiscDamageInflictor(void);
   
#line 823 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void UpdateOneSectorForce(CBrushSector & bsc,FLOAT fRatio);
   
#line 872 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void TestFields(INDEX & iUpContent,INDEX & iDnContent,FLOAT & fImmersionFactor);
   
#line 1024 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void TestBreathing(CContentType & ctUp);
   
#line 1060 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void TestContentDamage(CContentType & ctDn,FLOAT fImmersion);
   
#line 1093 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void TestSurfaceDamage(CSurfaceType & stDn);
   
#line 1119 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void SendTouchEvent(const CClipMove & cmMove);
   
#line 1134 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void SendBlockEvent(CClipMove & cmMove);
   
#line 1147 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL IsStandingOnPolygon(CBrushPolygon * pbpo);
   
#line 1205 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL IsPolygonBelowPoint(CBrushPolygon * pbpo,const FLOAT3D & vPoint,FLOAT fMaxDist);
  virtual BOOL AllowForGroundPolygon(CBrushPolygon * pbpo);
   
#line 1290 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL IsSomeNearPolygonBelowPoint(const FLOAT3D & vPoint,FLOAT fMaxDist);
   
#line 1297 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL IsSomeSectorPolygonBelowPoint(CBrushSector * pbsc,const FLOAT3D & vPoint,FLOAT fMaxDist);
   
#line 1313 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL WouldFallInNextPosition(void);
   
#line 1423 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void ClearNextPosition(void);
   
#line 1429 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void SetPlacementFromNextPosition(void);
   
#line 1462 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL TryToGoUpstairs(const FLOAT3D & vTranslationAbsolute,const CSurfaceType & stHit,
#line 1463 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL bHitStairsOrg);
   
#line 1610 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
BOOL TryToMove(CMovableEntity * penPusher,BOOL bTranslate,BOOL bRotate);
   void ClearMovingTemp(void);
   void PreMoving(void);
   void DoMoving(void);
   void PostMoving(void);
   void CacheNearPolygons(void);
   
#line 2744 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
SLONG GetUsedMemory(void);
   
#line 2755 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
void ClientCacheNearPolygons();
#define  STATE_CMovableEntity_Dummy 0x00010000
  BOOL 
#line 2793 "E:/질산/Korea/Client_USA/Engine/Classes/MovableEntity.es"
Dummy(const CEntityEvent &__eeInput);
};
#endif // _Engine_Classes_MovableEntity_INCLUDED
